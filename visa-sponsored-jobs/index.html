<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>VisaJobs.xyz - Global Tech Jobs with Visa Sponsorship</title>
    <meta name="title" content="VisaJobs.xyz - Global Tech Jobs with Visa Sponsorship">
    <meta name="description" content="Find international tech jobs with visa sponsorship and relocation assistance. 800+ jobs across 50+ countries. Your global career starts here.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://visajobs.xyz/">
    <meta property="og:title" content="VisaJobs.xyz - Global Tech Jobs with Visa Sponsorship">
    <meta property="og:description" content="Find international tech jobs with visa sponsorship and relocation assistance. 800+ jobs across 50+ countries. Your global career starts here.">
    <meta property="og:image" content="https://visajobs.xyz/static/images/og.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://visajobs.xyz/">
    <meta property="twitter:title" content="VisaJobs.xyz - Global Tech Jobs with Visa Sponsorship">
    <meta property="twitter:description" content="Find international tech jobs with visa sponsorship and relocation assistance. 800+ jobs across 50+ countries. Your global career starts here.">
    <meta property="twitter:image" content="https://visajobs.xyz/static/images/og.png">
    
    <!-- Canonical Link -->
    <link rel="canonical" href="https://visajobs.xyz">
    
    <!-- Favicon -->
    <!-- Favicon for Browsers -->
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon"  href="favicon.ico">

    <!-- Favicon for Android -->
    <link rel="icon" type="image/png" sizes="192x192" href="favicon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="favicon/android-chrome-512x512.png">

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="favicon/apple-touch-icon.png">

    <!-- Web Manifest -->
    <link rel="manifest" href="favicon/site.webmanifest">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.js"></script>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "VisaJobs.xyz",
        "url": "https://visajobs.xyz",
        "description": "Global platform for tech professionals seeking international jobs with visa sponsorship",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://visajobs.xyz/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>

    <!-- Performance and Accessibility Optimizations -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://unpkg.com">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="keywords" content="visa jobs, tech jobs, international careers, job sponsorship, relocation jobs, global tech employment">
</head>
<body>
    <div class="w-full min-h-screen">
        <!-- Header -->
        <header class="flex items-center justify-between p-4 border-b">
            <a href="/" class="flex items-center gap-2">
                <i data-lucide="rocket" class="w-6 h-6 text-blue-500"></i>
                <span class="text-xl font-semibold">visajobs.xyz</span>
            </a>
            <button class="px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600">
                Post a job
            </button>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-12">
            <!-- Hero Section -->
            <div class="text-center mb-16">
                <h1 class="text-4xl md:text-6xl font-bold mb-6 leading-snug">
                    Jobs with 
                    <span class="bg-yellow-200 px-2 inline-block">Visa Sponsorship</span> &amp;
                    <span class="bg-yellow-200 px-2 inline-block">Relocation Assistance</span>
                </h1>

                <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-8">
                    <div class="flex items-center gap-2">
                        <i data-lucide="globe" class="w-5 h-5"></i>
                        <span>50+ Countries</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i data-lucide="briefcase" class="w-5 h-5"></i>
                        <span>800+ Jobs</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i data-lucide="map-pin" class="w-5 h-5"></i>
                        <span>Visa Sponsorship + Relocation Assistance</span>
                    </div>
                </div>
            </div>

            <div id="mc_embed_signup" class="bg-white p-6 rounded-lg shadow-sm border mb-8 max-w-lg mx-auto">
                <h3 class="text-2xl font-bold mb-4 text-center">Stay Updated</h3>
                <p class="text-gray-600 text-center mb-6">
                    Subscribe to receive the latest visa-sponsored jobs and relocation assistance opportunities directly in your inbox.
                </p>
                <form 
                    id="mc-embedded-subscribe-form" 
                    class="validate"
                    novalidate
                >
                    <div id="mc_embed_signup_scroll" class="flex flex-col md:flex-row gap-4 items-center">
                        <input 
                            type="email" 
                            name="EMAIL" 
                            class="required email w-full md:flex-1 p-2 border rounded-lg" 
                            id="mce-EMAIL" 
                            placeholder="Enter your email" 
                            required 
                            aria-required="true">
                        <button 
                            type="button" 
                            id="mc-embedded-subscribe" 
                            class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">
                            Subscribe
                        </button>
                    </div>
                    <div id="mc-responses" class="mt-4 text-center">
                        <p id="mce-success-response" class="text-green-500 hidden">Thank you for subscribing!</p>
                        <p id="mce-error-response" class="text-red-500 hidden">Please enter a valid email address.</p>
                    </div>
                </form>
                <p class="text-sm text-gray-500 text-center mt-4">
                    We respect your privacy. Unsubscribe anytime.
                </p>
            </div>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const subscribeForm = document.getElementById('mc-embedded-subscribe-form');
                    const emailInput = document.getElementById('mce-EMAIL');
                    const successMessage = document.getElementById('mce-success-response');
                    const errorMessage = document.getElementById('mce-error-response');
                    const subscribeButton = document.getElementById('mc-embedded-subscribe');
            
                    subscribeButton.addEventListener('click', () => {
                        const email = emailInput.value.trim();
            
                        // Reset messages
                        successMessage.classList.add('hidden');
                        errorMessage.classList.add('hidden');
            
                        if (email === '' || !/\S+@\S+\.\S+/.test(email)) {
                            // Show error message
                            errorMessage.textContent = 'Please enter a valid email address.';
                            errorMessage.classList.remove('hidden');
                        } else {
                            // Simulate subscription success
                            successMessage.textContent = `Thank you for subscribing with ${email}!`;
                            successMessage.classList.remove('hidden');
                            emailInput.value = ''; // Clear input
                        }
                    });
                });
            </script>

            <!-- Search Filters -->
            <div class="bg-white p-6 rounded-lg shadow-sm border mb-8 max-w-3xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="relative">
                        <i data-lucide="search" class="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                        <input type="text" placeholder="Search jobs..." class="w-full pl-10 pr-4 py-2 border rounded-lg">
                    </div>

                    <select class="w-full p-2 border rounded-lg">
                        <option value="">Select Country</option>
                        <option value="germany">Germany</option>
                        <option value="france">France</option>
                        <option value="netherlands">Netherlands</option>
                    </select>
                </div>
            </div>

            <!-- Job Listings -->
            <div class="space-y-4">
            </div>
        </main>

        <!-- Footer remains the same as in the original document -->
        <footer class="bg-gray-50 border-t mt-16 py-12">
            <div class="max-w-6xl mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div>
                        <h4 class="font-semibold mb-4">About Us</h4>
                        <p class="text-gray-600 text-sm">
                            We help tech professionals find jobs with visa sponsorship and
                            relocation support worldwide.
                        </p>
                    </div>

                    <div>
                        <h4 class="font-semibold mb-4">Quick Links</h4>
                        <ul class="space-y-2 text-sm">
                            <li><a href="#" class="text-gray-600 hover:text-blue-500">Browse Jobs</a></li>
                            <li><a href="#" class="text-gray-600 hover:text-blue-500">Companies</a></li>
                            <li><a href="#" class="text-gray-600 hover:text-blue-500">Visa Guide</a></li>
                        </ul>
                    </div>

                    <div>
                        <h4 class="font-semibold mb-4">Follow Us</h4>
                        <div class="flex gap-4">
                            <i data-lucide="twitter" class="w-5 h-5 text-gray-600 hover:text-blue-500 cursor-pointer"></i>
                            <i data-lucide="linkedin" class="w-5 h-5 text-gray-600 hover:text-blue-500 cursor-pointer"></i>
                            <i data-lucide="instagram" class="w-5 h-5 text-gray-600 hover:text-blue-500 cursor-pointer"></i>
                        </div>
                    </div>

                    <div>
                        <h4 class="font-semibold mb-4">Newsletter</h4>
                        <div class="relative">
                            <input type="email" placeholder="Your email" class="w-full pl-4 pr-10 py-2 border rounded-lg">
                            <button class="absolute right-2 top-1/2 -translate-y-1/2 text-blue-500">
                                Subscribe
                            </button>
                        </div>
                    </div>
                </div>

                <div class="border-t mt-8 pt-8 text-center text-sm text-gray-600">
                    © 2024 visajobs™. All rights reserved.
                </div>
            </div>
        </footer>
    </div>

    <script>
        const dataSource = '../db.json'; // Path to your jobs data
        let allJobs = []; // Stores all jobs from the data source
        let filteredJobs = []; // Stores filtered jobs based on search and filters
    
        // DOM Elements
        const jobContainer = document.querySelector('.space-y-4');
        const searchInput = document.querySelector('input[type="text"]');
        const locationFilter = document.querySelector('select');
    
        // Display a loading spinner for job listings
        function showLoadingEffect() {
            jobContainer.innerHTML = `
                <div class="rounded-lg border border-gray-200 bg-white p-4 sm:p-6 shadow-sm animate-pulse">
                    <div class="flex flex-col sm:flex-row sm:items-start gap-4">
                        <div class="h-12 w-12 rounded-lg bg-gray-200"></div>
                        <div class="flex-1 space-y-3">
                            <div class="h-5 bg-gray-200 rounded w-3/5"></div>
                            <div class="flex flex-wrap gap-3">
                                <div class="h-4 bg-gray-200 rounded w-32"></div>
                                <div class="h-4 bg-gray-200 rounded w-24"></div>
                                <div class="h-4 bg-gray-200 rounded w-20"></div>
                            </div>
                            <div class="flex flex-wrap gap-2">
                                <div class="h-5 bg-gray-200 rounded-full w-16"></div>
                                <div class="h-5 bg-gray-200 rounded-full w-24"></div>
                                <div class="h-5 bg-gray-200 rounded-full w-20"></div>
                            </div>
                        </div>
                        <div class="flex flex-col items-end gap-2">
                            <div class="h-4 bg-gray-200 rounded w-24"></div>
                            <div class="h-4 bg-gray-200 rounded w-20"></div>
                        </div>
                    </div>
                </div>
                <div class="rounded-lg border border-gray-200 bg-white p-4 sm:p-6 shadow-sm animate-pulse">
                    <div class="flex flex-col sm:flex-row sm:items-start gap-4">
                        <div class="h-12 w-12 rounded-lg bg-gray-200"></div>
                        <div class="flex-1 space-y-3">
                            <div class="h-5 bg-gray-200 rounded w-2/3"></div>
                            <div class="flex flex-wrap gap-3">
                                <div class="h-4 bg-gray-200 rounded w-28"></div>
                                <div class="h-4 bg-gray-200 rounded w-32"></div>
                                <div class="h-4 bg-gray-200 rounded w-24"></div>
                            </div>
                            <div class="flex flex-wrap gap-2">
                                <div class="h-5 bg-gray-200 rounded-full w-20"></div>
                                <div class="h-5 bg-gray-200 rounded-full w-28"></div>
                            </div>
                        </div>
                        <div class="flex flex-col items-end gap-2">
                            <div class="h-4 bg-gray-200 rounded w-24"></div>
                            <div class="h-4 bg-gray-200 rounded w-20"></div>
                        </div>
                    </div>
                </div>
            `;
        }
    
        // Populate location dropdown with unique countries
        function populateLocationDropdown(jobs) {
            const countrySet = new Set();
            jobs.forEach(job => {
                // Extract country name from location
                const country = job.location.split(',').pop().trim();
                countrySet.add(country);
            });
    
            // Clear existing options and add new ones
            locationFilter.innerHTML = '<option value="">Select Country</option>';
            countrySet.forEach(country => {
                const option = document.createElement('option');
                option.value = country.toLowerCase();
                option.textContent = country;
                locationFilter.appendChild(option);
            });
        }
    // Function to calculate relative time
    function timeAgo(postDateString) {
    const postDate = new Date(postDateString); // Parse the date string
    const now = new Date(); // Current date and time
    const seconds = Math.floor((now - postDate) / 1000);

    if (seconds < 60) {
        return 'Just now';
    }
    const intervals = [
        { label: 'year', seconds: 31536000 },
        { label: 'month', seconds: 2592000 },
        { label: 'day', seconds: 86400 },
        { label: 'hour', seconds: 3600 },
        { label: 'minute', seconds: 60 },
    ];

    for (const interval of intervals) {
        const count = Math.floor(seconds / interval.seconds);
        if (count >= 1) {
            return `${count} ${interval.label}${count > 1 ? 's' : ''} ago`;
        }
    }
    return 'Just now';
}
        // Function to render jobs
        function renderJobs(jobs) {
    if (jobs.length === 0) {
        jobContainer.innerHTML = '<p class="text-center text-gray-500">No jobs found matching your criteria.</p>';
        return;
    }

    jobContainer.innerHTML = jobs.map(job => `
        <div class="p-6 border rounded-lg hover:shadow-lg transition-shadow">
            <div class="flex items-start gap-4">
                <img src="${job.logo}" alt="${job.company}" class="w-12 h-12 rounded-lg">
                <div class="flex-1">
                    <h3 class="text-lg font-semibold mb-1">${job.position}</h3>
                    <p class="text-gray-600 mb-2">${job.company}</p>
                    <div class="flex items-center gap-4 text-sm text-gray-500">
                        <span class="flex items-center gap-1">
                            <i data-lucide="map-pin" class="w-4 h-4"></i>
                            ${job.location}
                        </span>
                        <span class="flex items-center gap-1">
                            <i data-lucide="calendar" class="w-4 h-4"></i>
                            Posted on: ${job.post_date}
                        </span>
                    </div>
                    <div class="mt-2 flex items-center gap-2">
                        <span class="px-2 py-1 bg-green-200 text-green-800 rounded-lg text-sm">${job.reloc}</span>
                        <span class="px-2 py-1 bg-yellow-200 text-yellow-800 rounded-lg text-sm">${job.visa}</span>
                        <span class="px-2 py-1 bg-gray-200 text-gray-800 rounded-lg text-sm">${job.contract}</span>
                    </div>
                </div>
                <a href="${job.description}" target="_blank" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">
                    Apply
                </a>
            </div>
        </div>
    `).join('');
    lucide.createIcons(); // Reinitialize icons after rendering
}

    
        // Function to filter jobs based on search and location
        function filterJobs() {
            const searchText = searchInput.value.toLowerCase();
            const selectedCountry = locationFilter.value;
    
            filteredJobs = allJobs.filter(job => {
                const country = job.location.split(',').pop().trim().toLowerCase();
                return (
                    (searchText === '' || job.position.toLowerCase().includes(searchText)) &&
                    (selectedCountry === '' || country.includes(selectedCountry))
                );
            });
    
            renderJobs(filteredJobs);
        }
    
        // Fetch and load jobs
        async function loadJobs() {
            try {
                showLoadingEffect(); // Show loading spinner
                const response = await fetch(dataSource);
                if (!response.ok) throw new Error('Failed to fetch jobs');
                const jobs = await response.json();
    
                allJobs = jobs; // Store all jobs for filtering
                filteredJobs = [...jobs]; // Initialize filtered jobs
                populateLocationDropdown(jobs); // Populate location dropdown with countries
                renderJobs(filteredJobs); // Render jobs
            } catch (error) {
                console.error('Error loading jobs:', error);
                jobContainer.innerHTML = '<p class="text-center text-red-500">Failed to load jobs. Please try again later.</p>';
            }
        }
    
        // Event listeners for search and filters
        searchInput.addEventListener('input', () => {
            showLoadingEffect(); // Show loading effect during filtering
            setTimeout(filterJobs, 500); // Add delay to mimic user typing
        });
    
        locationFilter.addEventListener('change', () => {
            showLoadingEffect();
            setTimeout(filterJobs, 500); // Add delay for filter effect
        });
    
        // Initialize loading spinner CSS
        const style = document.createElement('style');
        style.innerHTML = `
            .loader {
                border: 4px solid #f3f3f3;
                border-top: 4px solid #3498db;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                animation: spin 1s linear infinite;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
    
        // Load jobs on page load
        document.addEventListener('DOMContentLoaded', loadJobs);
    
        // Initialize Lucide icons
        lucide.createIcons();
    </script>
</body>
</html>
